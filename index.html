<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <script type="text/javascript" src="contest.json"></script>
    <title>Thanima</title>
  </head>
  <body>
    <div class="land">
      <img id="circles" src="assets/circles.svg" />
      <img id="th" src="assets/bharatthanima.svg" />
      <button id="button1"><a href="">REGISTER </a></button>
      <div class="header">
        <ul class="nav">
            <li><a href="http://">ABOUT</a></li>
            <li><a href="http://">CONTESTS</a></li>
            <li id="gal"><a href="http://">GALLERY</a></li>
            <li id="log"><a href="">LOGIN</a></li>
        </ul>
      </div>
      <div class="about">
        <h1>ABOUT US</h1>

        <p>
          “Festivals promote diversity, they bring neighbours into dialogue,
          they increase creativity, they offer opportunities for civic pride,
          they improve our general psychological well-being. In short, they make
          cities better places to live.” – David Binder<br><br>
          The Onam celebrations,
          here at VIT, is celebrated through ‘Thanima’. Thanima was first
          conducted in the year 2002 and thus was set into motion, the legacy of
          this wonderful and auspicious celebration. Each year our celebrations
          are aggrandized by the presence of dignified personalities such as
          Vineeth Sreenivasan, Swetha Menon, Shri. K. B. Ganesh Kumar, Deepak
          Dev, Shri. G Karthikeyan, Siddhi Mahajankatti, Vayalar Ravi (MP),
          Marina Michael Kurisingal etc. The Thanima festivities are also
          accompanied by various Sporting and Cultural events that boost up
          morale, companionship, sportsmanship, creativity and togetherness of
          the entire community.
        </p>
      </div>

      <img id="vallam" src="assets/vallam.svg" />
      <img id="arcs" src="assets/arcs.svg" />
    </div>
    <div class="contest">
      <h1>CONTESTS</h1>
      <img id="card" src="assets/card.svg" />
      <div class="content" id="content">
        <h2 id="name"></h2>
        <p id="description"></p>
      </div>
      <button id="button2"><a href="">REGISTER </a></button>
      <img id="right" onclick="next()" src="assets/right.svg" />
      <img id="left" onclick="prev()" src="assets/left.svg" />
    </div>

    <script>
      let index = 0;
      var content;
      fetch("contest.json")
        .then((response) => response.json())
        .then((parsed) => {
          content = parsed;
          let contentElement = document.getElementById("content");
          console.log(content);
          if (content.length > 0) {
            console.log("Length greater than 0");
            contentElement.innerHTML = `<h1 id="name">${content[index].name}</h1>
            <p id="description">${content[index].description}</p>`;
            console.log(contentElement.innerHTML);
          }
        });

      function next() {
        console.log("next");
        if (content.length - 1 > index) {
          index += 1;
        } else {
          index = 0;
        }
        console.log(index);
        setchange(index);
      }
      function prev() {
        console.log("prev");
        if (index > 0) {
          index -= 1;
        } else {
          index = content.length - 1;
        }
        console.log(index);
        setchange(index);
      }
      function setchange(index) {
        fetch("contest.json")
          .then((response) => response.json())
          .then((parsed) => {
            content = parsed;
            let contentElement = document.getElementById("content");
            console.log(content);
            if (content.length > 0) {
              console.log("Length greater than 0");
              contentElement.innerHTML = `<h1 id="name">${content[index].name}</h1>
            <p id="description">${content[index].description}</p>`;
              console.log(contentElement.innerHTML);
            }
          });
      }
    </script>
  </body>
</html>
